import{_ as g,a as m,o as r,c as p,b as t,i as d,v as c,j as f,f as v,t as u,F as _,p as k,g as x,k as C,l as U,m as w,e as V,r as P}from"./index-10-N6Rut.js";const A={props:["apitype"],data(){return{datato:{data:{title:"",content:"",category:"",imagesUrl:["圖片網址一","圖片網址二","圖片網址三"],is_enabled:1,price:0,origin_price:0,unit:"本",description:"",imageUrl:""}}}},methods:{Addapi(a){if(console.log("Add",a),a.type==="add")m.post("https://ec-course-api.hexschool.io/v2/api/tsurusroute/admin/product",this.datato).then(s=>{console.log("response",s)}).catch(s=>{console.log("error",s)});else if(a.type==="edit"){const e=`https://ec-course-api.hexschool.io/v2/api/tsurusroute/admin/product${a.id}`;console.log("editapi",e),m.put(e,this.datato).then(s=>{console.log("editapi",s)}).catch(s=>{console.log("error",s)})}}},mounted(){console.log("mounted apitype")},watch:{apitype:{handler(a){console.log("apitype change",this.apitype.item.data),this.datato.data=this.apitype.item},deep:!0}}},i=a=>(k("data-v-5a194b36"),a=a(),x(),a),D=i(()=>t("h3",{class:"mb-4"},"新增新產品",-1)),N={class:"row g-3"},I={class:"col-md-6"},S=i(()=>t("label",{for:"inputName",class:"form-label"},"品名",-1)),B={class:"col-md-6"},M=i(()=>t("label",{for:"inputCategory",class:"form-label"},"分類",-1)),T={class:"col-6"},F=i(()=>t("label",{for:"inputOriginPrice",class:"form-label"},"原價",-1)),O={class:"col-6"},j=i(()=>t("label",{for:"inputPrice",class:"form-label"},"價格",-1)),E={class:"col-12"},L=i(()=>t("label",{for:"inputDescription",class:"form-label"},"描述",-1)),q={class:"col-12"},z=i(()=>t("label",{for:"inputContent",class:"form-label"},"內容規格",-1)),G={class:"col-6"},H=i(()=>t("label",{for:"inputImageUrl",class:"form-label"},"主圖片",-1)),J={class:"col-6"},K=i(()=>t("label",{for:"",style:{opacity:"0"}},"啟用",-1)),Q={class:"form-check"},R=["checked"],W=i(()=>t("label",{class:"form-check-label",for:"gridCheck"}," 啟用打勾 ",-1)),X=i(()=>t("div",{class:"col-6"},[t("img",{src:"",style:{height:"100%"}})],-1)),Y={class:"col-12"};function Z(a,e,s,b,o,h){return r(),p(_,null,[D,t("form",N,[t("div",I,[S,d(t("input",{type:"text",class:"form-control",id:"inputName","onUpdate:modelValue":e[0]||(e[0]=l=>o.datato.data.title=l)},null,512),[[c,o.datato.data.title]])]),t("div",B,[M,d(t("input",{type:"text",class:"form-control",id:"inputCategory","onUpdate:modelValue":e[1]||(e[1]=l=>o.datato.data.category=l)},null,512),[[c,o.datato.data.category]])]),t("div",T,[F,d(t("input",{type:"text",class:"form-control",id:"inputOriginPrice","onUpdate:modelValue":e[2]||(e[2]=l=>o.datato.data.origin_price=l)},null,512),[[c,o.datato.data.origin_price]])]),t("div",O,[j,d(t("input",{type:"text",class:"form-control",id:"inputPrice","onUpdate:modelValue":e[3]||(e[3]=l=>o.datato.data.price=l)},null,512),[[c,o.datato.data.price]])]),t("div",E,[L,d(t("input",{type:"text",class:"form-control",id:"inputDescription","onUpdate:modelValue":e[4]||(e[4]=l=>o.datato.data.description=l)},null,512),[[c,o.datato.data.description]])]),t("div",q,[z,d(t("input",{type:"text",class:"form-control",id:"inputContent","onUpdate:modelValue":e[5]||(e[5]=l=>o.datato.data.content=l)},null,512),[[c,o.datato.data.content]])]),t("div",G,[H,d(t("input",{type:"text",class:"form-control",id:"inputImageUrl","onUpdate:modelValue":e[6]||(e[6]=l=>o.datato.data.imgUrl=l)},null,512),[[c,o.datato.data.imgUrl]])]),t("div",J,[K,t("div",Q,[d(t("input",{class:"form-check-input",type:"checkbox",id:"gridCheck","onUpdate:modelValue":e[7]||(e[7]=l=>o.datato.data.is_enabled=l),checked:o.datato.data.is_enabled},null,8,R),[[f,o.datato.data.is_enabled]]),W])]),X,t("div",Y,[t("button",{type:"submit",class:"btn btn-primary",onClick:e[8]||(e[8]=l=>h.Addapi(s.apitype))},"確認")])]),v(" "+u(s.apitype)+" ",1),t("div",null,u(o.datato),1)],64)}const $=g(A,[["render",Z],["__scopeId","data-v-5a194b36"]]),tt={components:{AddProduct:$},data(){return{showAddProduct:!0,loginstatus:!0,displayitem:{},editTemp:{data:{}},modeltype:{type:"",id:"",item:{}}}},methods:{openaddmodel(a,e,s){this.modeltype.type=a,this.modeltype.id=e,this.modeltype.item=s},displayData(){console.log("displayData"),m.get("https://ec-course-api.hexschool.io/v2/api/tsurusroute/admin/products?page=1").then(e=>{console.log("response",e.data.products),this.displayitem=e.data.products}).catch(e=>{console.log("error",e)})},editData(a){console.log("editData",a);const e=`https://ec-course-api.hexschool.io/v2/api/tsurusroute/admin/product/${a}`;m.put(e,this.editTemp).then(s=>{console.log("response",s.data.products),this.displayitem=s.data.products}).catch(s=>{console.log("error",s)})}},mounted(){console.log("mounted"),this.displayData()}},et=t("h1",null,"產品管理",-1),ot={class:"text-end mt-4"},at={class:"table mt-4"},st=t("thead",null,[t("tr",null,[t("th",{width:"120"}," 分類 "),t("th",null,"產品名稱"),t("th",{width:"120"}," 原價 "),t("th",{width:"120"}," 售價 "),t("th",{width:"100"}," 是否啟用 "),t("th",{width:"120"}," 編輯 ")])],-1),lt={key:0,class:"text-success"},it={key:1},nt={class:"btn-group"},dt=["onClick"],ct=["onClick"],rt=V('<nav aria-label="Page navigation example"><ul class="pagination"><li class="page-item"><a class="page-link" href="#" aria-label="Previous"><span aria-hidden="true">«</span></a></li><li class="page-item"><a class="page-link" href="#">1</a></li><li class="page-item"><a class="page-link" href="#">2</a></li><li class="page-item"><a class="page-link" href="#">3</a></li><li class="page-item"><a class="page-link" href="#" aria-label="Next"><span aria-hidden="true">»</span></a></li></ul></nav>',1);function pt(a,e,s,b,o,h){const l=P("AddProduct");return r(),p(_,null,[et,t("div",ot,[t("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#addMmodelComponent",onClick:e[0]||(e[0]=n=>h.openaddmodel("add","",""))}," 新增產品 ")]),t("table",at,[st,t("tbody",null,[(r(!0),p(_,null,C(o.displayitem,n=>(r(),p("tr",{key:n.id},[t("td",null,u(n.category),1),t("td",null,u(n.title),1),t("td",null,u(n.origin_price),1),t("td",null,u(n.price),1),t("td",null,[n.is_enabled?(r(),p("span",lt,"啟用")):(r(),p("span",it,"未啟用"))]),t("td",null,[t("div",nt,[t("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:y=>h.openaddmodel("edit",n.id,n)},"編輯",8,dt),t("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:y=>a.showdeleteAlert(n)}," 刪除 ",8,ct)])])]))),128))])]),rt,o.showAddProduct?(r(),U(l,{key:0,apitype:o.modeltype},null,8,["apitype"])):w("",!0)],64)}const ht=g(tt,[["render",pt]]);export{ht as default};
